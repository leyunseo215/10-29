import streamlit as st
import random

# ğŸŒ¤ï¸ í˜ì´ì§€ ê¸°ë³¸ ì„¤ì •
st.set_page_config(page_title="ğŸ’ƒ ì˜¤ëŠ˜ì˜ íŒ¨ì…˜ ì¶”ì²œ í”„ë¦¬ë¯¸ì—„ âœ¨", page_icon="ğŸ‘—", layout="centered")

# ğŸ’– CSS ê¾¸ë¯¸ê¸°
st.markdown(
    """
    <style>
    body {
        background: linear-gradient(120deg, #FFDEE9 0%, #B5FFFC 100%);
        animation: gradient 6s ease infinite;
        background-size: 400% 400%;
    }
    @keyframes gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    h1 {
        font-size: 60px !important;
        text-align: center;
        background: -webkit-linear-gradient(#ff5f6d, #ffc371);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: glow 2s infinite alternate;
    }

    @keyframes glow {
        from { text-shadow: 0 0 10px #fff, 0 0 20px #ffb6b9; }
        to { text-shadow: 0 0 20px #ffe8a1, 0 0 40px #fff; }
    }

    .recommend-box {
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 25px;
        padding: 25px;
        text-align: center;
        font-size: 25px;
        box-shadow: 0 0 30px rgba(255, 200, 200, 0.6);
    }

    .emoji-rain {
        font-size: 40px;
        text-align: center;
        animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }
    </style>
    """,
    unsafe_allow_html=True
)

# ğŸŒ¸ íƒ€ì´í‹€
st.markdown("<h1>ğŸ‘— ì˜¤ëŠ˜ì˜ íŒ¨ì…˜ ì¶”ì²œ í”„ë¦¬ë¯¸ì—„ ğŸ’…</h1>", unsafe_allow_html=True)
st.markdown("<p style='text-align:center; font-size:20px;'>âœ¨ ë‚ ì”¨ + ì˜¨ë„ ê¸°ë°˜, ìŠ¤íƒ€ì¼ë¦¬ì‹œí•œ ì˜¤ëŠ˜ì˜ ë£©ì„ ì¶”ì²œí•´ë“œë ¤ìš”! âœ¨</p>", unsafe_allow_html=True)
st.markdown("---")

# â˜€ï¸ ì‚¬ìš©ì ì…ë ¥
weather = st.selectbox(
    "ì˜¤ëŠ˜ì˜ ë‚ ì”¨ëŠ” ì–´ë–¤ê°€ìš”? ğŸŒ¤ï¸",
    ["â˜€ï¸ ë§‘ìŒ", "ğŸŒ¤ï¸ êµ¬ë¦„ ì¡°ê¸ˆ", "â˜ï¸ íë¦¼", "ğŸŒ§ï¸ ë¹„", "ğŸŒ¨ï¸ ëˆˆ", "ğŸŒªï¸ ë°”ëŒ ë§ìŒ"]
)

temperature = st.slider("í˜„ì¬ ì˜¨ë„ë¥¼ ì•Œë ¤ì£¼ì„¸ìš” ğŸŒ¡ï¸", -10, 40, 20)

st.markdown("---")

# ğŸ‘• ì¶”ì²œ ë¡œì§
def recommend_outfit(weather, temp):
    if temp >= 28:
        outfit = "ğŸ˜ ì—¬ë¦„ í•œê°€ìš´ë°! ë°˜íŒ”í‹° + ë°˜ë°”ì§€ + ì„ ê¸€ë¼ìŠ¤ ğŸ•¶ï¸ + ì‹œì›í•œ ìƒŒë“¤ ğŸ©´"
    elif 23 <= temp < 28:
        outfit = "ğŸŒ ë”°ëœ»í•œ ë‚ ì”¨ì—” ë°˜íŒ”í‹° + ì–‡ì€ ì…”ì¸  + ìŠ¬ë™ìŠ¤ + ìš´ë™í™” ğŸ‘Ÿ"
    elif 17 <= temp < 23:
        outfit = "ğŸ‚ ì„ ì„ í•œ ë‚ ì”¨ì—” ê¸´íŒ”í‹° + ê°€ë””ê±´ or ì–‡ì€ ìì¼“ ğŸ§¥ + ì²­ë°”ì§€ ğŸ‘–"
    elif 10 <= temp < 17:
        outfit = "ğŸŒ¬ï¸ ì¡°ê¸ˆ ìŒ€ìŒ€í•´ìš”! ë§¨íˆ¬ë§¨ or ë‹ˆíŠ¸ + ì½”íŠ¸ ğŸ§¥ + ìŠ¤ì¹´í”„ ğŸ§£"
    elif 4 <= temp < 10:
        outfit = "â„ï¸ ì¶”ìš´ ë‚ ì”¨ì—” íŒ¨ë”© ğŸ§Š + ëª©ë„ë¦¬ ğŸ§£ + ì¥ê°‘ ğŸ§¤"
    else:
        outfit = "ğŸ¥¶ ë§¤ìš° ì¶”ì›Œìš”! ë¡±íŒ¨ë”© + í„¸ëª¨ì + ë°©í•œë¶€ì¸  í•„ìˆ˜! â›„"

    extra = {
        "â˜€ï¸ ë§‘ìŒ": "í–‡ë¹› ê°•í•¨ â˜€ï¸ â†’ ì„ í¬ë¦¼ + ì„ ê¸€ë¼ìŠ¤ í•„ìˆ˜ ğŸ•¶ï¸",
        "ğŸŒ¤ï¸ êµ¬ë¦„ ì¡°ê¸ˆ": "ì‚°ì±…í•˜ê¸° ì¢‹ì€ ë‚ ì”¨ ğŸš¶â€â™€ï¸ğŸŒ¸",
        "â˜ï¸ íë¦¼": "ì¡°ê¸ˆ ì¹™ì¹™í•˜ë‹ˆ ë°ì€ ìƒ‰ ì˜· ì¶”ì²œ ğŸ’›",
        "ğŸŒ§ï¸ ë¹„": "ìš°ì‚° â˜‚ï¸ + ë°©ìˆ˜ ì‹ ë°œ ğŸ‘¢ ê¼­ ì±™ê¸°ì„¸ìš”!",
        "ğŸŒ¨ï¸ ëˆˆ": "ë”°ëœ»í•˜ê³  ë¯¸ë„ëŸ¼ ë°©ì§€ ì‹ ë°œ ğŸ‘¢ ì‹ ì–´ìš”!",
        "ğŸŒªï¸ ë°”ëŒ ë§ìŒ": "ë°”ëŒë§‰ì´ ìì¼“ ğŸ§¥ or í›„ë“œí‹° ì¶”ì²œ ğŸŒ¬ï¸"
    }

    return outfit, extra[weather]

# ğŸ’« ë²„íŠ¼ í´ë¦­ ì‹œ ê²°ê³¼ í‘œì‹œ
if st.button("âœ¨ íŒ¨ì…˜ ì¶”ì²œ ë°›ê¸° ğŸ’ƒ"):
    outfit, comment = recommend_outfit(weather, temperature)

    st.markdown(
        f"""
        <div class='recommend-box'>
            <h2>{weather}</h2>
            <p style='font-size:30px;'>{outfit}</p>
            <p style='font-size:20px;'>{comment}</p>
        </div>
        """,
        unsafe_allow_html=True
    )

    emojis = ["ğŸ’–", "ğŸŒ¸", "ğŸŒˆ", "âœ¨", "ğŸ§¥", "ğŸ‘—", "ğŸ§£", "ğŸ‘’", "ğŸ©´", "ğŸ€", "ğŸ’«"]
    emoji_string = "".join(random.choices(emojis, k=20))
    st.markdown(f"<div class='emoji-rain'>{emoji_string}</div>", unsafe_allow_html=True)

# ğŸ‘  í•˜ë‹¨ ë¬¸êµ¬
st.markdown(
    """
    ---
    <p style='text-align:center; font-size:18px; color:gray;'>
    Made with ğŸ’– by <b>ChatGPT GPT-5 x Streamlit</b> âœ¨<br>
    Stay fabulous, always! ğŸ‘‘
    </p>
    """,
    unsafe_allow_html=True
)
